This is firewall script pseudocode for a dual-homed server.
The server has one interface on the "public" network.
It also has another interface on the "private", management network.

#### Variables ####

PUBLIC_NET=10.10.10.0/24
PUBLIC_NIC=enp0s8

PRIVATE_NET=192.168.100.0/24
PRIVATE_NIC=enp0s3

ROUTER=10.10.10.1

JUMPHOST=192.168.100.10
TIMESERVER=10.10.10.20
LOGSERVER=10.10.10.30
DNS=10.10.10.40

WEB=http,https

# Port assigned to the ssh service
SSH=22

###################


in {
    Allow all on loopback net
    Allow all established,related
    Deny  all invalid
    Jump  all on $PUBLIC_NIC  to public_in
    Jump  all on $PRIVATE_NIC to private_in
    Deny  all
}

out {
    Allow all on loopback net
    Allow all established,related
    Jump  all on $PUBLIC_NIC  to public_out
    Jump  all on $PRIVATE_NIC to private_out
    Deny all
}

public_in (
    Allow tcp new on $PUBLIC_NIC to $WEB
    Allow ICMP on $PUBLIC_NIC from $ROUTER
    Deny  all
}

private_in (
    Allow tcp new on $PRIVATE_NIC to $SSH from $JUMPHOST
    Allow ICMP on $PRIVATE_NIC from $PRIVATE_NET
    Deny  all
}

public_out {
    Allow all on loopback net
    Allow all established,related
    Allow udp new on $PUBLIC_NIC to dns on $DNS
    Allow udp new on $PUBLIC_NIC to ntp on $TIMESERVER
    Allow tcp new on $PUBLIC_NIC to syslog on $LOGSERVER
    Allow ICMP on $PUBLIC_NIC to $ROUTER
    Deny all
}

private_out {
    Allow all on loopback net
    Allow all established,related
    Allow ICMP on $PRIVATE_NIC from $PRIVATE_NET
    Deny all
}


